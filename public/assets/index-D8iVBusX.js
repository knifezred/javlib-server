import{_ as h}from"./movie-card.vue_vue_type_script_setup_true_lang-BbBdxZNE.js";import{d as x,j as B,u as C,r as u,k as N,o as _,c as g,w as n,f as m,g as P,t as v,h as d,b as w,l as M,F as U}from"./index-DItnb3D9.js";import{p as F}from"./library-D4JW-QQB.js";import{f as R}from"./movie-BrVTha2p.js";import{_ as D}from"./Space-D7PNJy4T.js";import{_ as L}from"./Pagination-DtpHMPZw.js";import{_ as T}from"./PageHeader-BZebUIuZ.js";import{_ as V}from"./Flex-Cs8l2fCs.js";import"./p-B4gxHpB1.js";import"./Rate-B08BRAue.js";import"./get-slot-Bk_rJcZu.js";import"./prop-BjyUHhTu.js";const X=x({name:"detail-page_video-list",__name:"index",setup(b){const a=B(),{routerBack:f}=C(),o=u(""),i=u([]),e=u({sort:"year",sortRule:"ASC",page:1,pageSize:20}),l=u(1),p=u(0);function c(){a.query.studio&&(e.value.studio=a.query.studio,o.value=e.value.studio),a.query.series&&(e.value.series=a.query.series,o.value=e.value.series),a.query.type&&a.query.key&&a.query.type==="tag"&&(e.value.tags=[a.query.key],o.value=e.value.tags[0]),a.query.actress&&(e.value.actress=a.query.actress,o.value=e.value.actress),R(e.value).then(s=>{s.data?(i.value=s.data.records,l.value=Math.ceil(s.data.total/e.value.pageSize),p.value=s.data.total):(i.value=[],l.value=1,p.value=0)})}return N(()=>{c()}),(s,r)=>{const y=h,z=D,k=L,S=T,q=V;return _(),g(q,{vertical:""},{default:n(()=>[m(S,{onBack:d(f)},{title:n(()=>[P(v(o.value)+"（"+v(p.value)+"）",1)]),footer:n(()=>[m(k,{page:e.value.page,"onUpdate:page":r[0]||(r[0]=t=>e.value.page=t),"page-size":e.value.pageSize,"onUpdate:pageSize":r[1]||(r[1]=t=>e.value.pageSize=t),"page-count":l.value,"show-size-picker":"",class:"ma-auto",simple:"","page-sizes":d(F),onUpdatePage:c,onUpdatePageSize:c},null,8,["page","page-size","page-count","page-sizes"])]),default:n(()=>[m(z,null,{default:n(()=>[(_(!0),w(U,null,M(i.value,t=>(_(),g(y,{key:t.id,movie:t,"show-second-title":!1,sort:e.value.sort},null,8,["movie","sort"]))),128))]),_:1})]),_:1},8,["onBack"])]),_:1})}}});export{X as default};
