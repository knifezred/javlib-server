import{d as y,i as F,r as f,k as j,at as _,o as N,c as S,w as n,f as t,h as l,$ as u,g as b,t as w,au as v,av as g,Z as L,B as G,m as I}from"./index-DItnb3D9.js";import{b as V}from"./movie-BrVTha2p.js";import{_ as A,a as D}from"./Grid-HtSArZJZ.js";import{a as P,_ as T}from"./FormItem-Dtq-PGbP.js";import{_ as Z}from"./Space-D7PNJy4T.js";import{_ as k}from"./Flex-Cs8l2fCs.js";import"./get-slot-Bk_rJcZu.js";const q=y({name:"SettingMedia",__name:"media",setup(h){const d=F(),i=f(""),o=f(""),p=f("");function C(){var e;(e=window.$message)==null||e.info("后台添加中，请耐心等待"),V()}function R(){var e;d.cacheProjectSettings(),_("media_folders").then(a=>{a.data&&a.data.id?(a.data.value=i.value,v(a.data)):g({key:"media_folders",value:i.value})}),_("tag_index").then(a=>{a.data&&a.data.id?(a.data.value=o.value,v(a.data)):g({key:"tag_index",value:o.value})}),_("actress_mapping").then(a=>{a.data&&a.data.id?(a.data.value=p.value,v(a.data)):g({key:"actress_mapping",value:p.value})}),(e=window.$message)==null||e.info(u("common.saveSuccess"))}return j(()=>{_("media_folders").then(e=>{e.data&&e.data.id&&(i.value=e.data.value)}),_("tag_index").then(e=>{e.data&&e.data.id&&(o.value=e.data.value)}),_("actress_mapping").then(e=>{e.data&&e.data.id&&(p.value=e.data.value)})}),(e,a)=>{const c=A,m=L,r=P,U=T,x=G,$=Z,B=D,M=I,z=k;return N(),S(z,null,{default:n(()=>[t(M,{bordered:!1,class:"w-full v-middle"},{default:n(()=>[t(B,{"x-gap":"12","y-gap":"24",cols:4},{default:n(()=>[t(c),t(c,{span:"2"},{default:n(()=>[t(U,{"label-placement":"left","label-width":"220","label-align":"left",size:"large"},{default:n(()=>[t(r,{label:l(u)("page.setting.server_url")},{default:n(()=>[t(m,{value:l(d).projectSettings.serviceUrl,"onUpdate:value":a[0]||(a[0]=s=>l(d).projectSettings.serviceUrl=s),type:"text"},null,8,["value"])]),_:1},8,["label"]),t(r,{label:l(u)("page.setting.media_folders")},{default:n(()=>[t(m,{value:i.value,"onUpdate:value":a[1]||(a[1]=s=>i.value=s),placeholder:"一行一个，如有多个请回车换行",type:"textarea",autosize:{minRows:3,maxRows:5}},null,8,["value"])]),_:1},8,["label"]),t(r,{label:l(u)("page.setting.tag_index")},{default:n(()=>[t(m,{value:o.value,"onUpdate:value":a[2]||(a[2]=s=>o.value=s),placeholder:"一行一个，如有多个请回车换行",type:"textarea",autosize:{minRows:5,maxRows:10}},null,8,["value"])]),_:1},8,["label"]),t(r,{label:l(u)("page.setting.actressMapping")},{default:n(()=>[t(m,{value:p.value,"onUpdate:value":a[3]||(a[3]=s=>p.value=s),placeholder:"一行一个，如有多个请回车换行",type:"textarea",autosize:{minRows:5,maxRows:10}},null,8,["value"])]),_:1},8,["label"])]),_:1}),t($,null,{default:n(()=>[t(x,{type:"primary",class:"w-xs",onClick:R},{default:n(()=>[b(w(l(u)("common.save")),1)]),_:1}),t(x,{type:"warning",class:"w-xs",onClick:C},{default:n(()=>[b(w(l(u)("page.library.updateLibrary")),1)]),_:1})]),_:1})]),_:1}),t(c)]),_:1})]),_:1})]),_:1})}}}),X=y({name:"setting",__name:"index",setup(h){return(d,i)=>{const o=k;return N(),S(o,{vertical:""},{default:n(()=>[t(q)]),_:1})}}});export{X as default};
