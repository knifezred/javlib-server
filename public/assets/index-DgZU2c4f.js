import{d as k,r as d,u as y,i as w,j as F,aq as C,o as r,c as _,w as c,f as N,b as i,k as f,F as h,e as P,h as B,s as S}from"./index-G0XXQiiJ.js";import{h as j}from"./movie-DpZnKH93.js";import{_ as z}from"./Space-DdY25akT.js";import{_ as E}from"./Flex-Dlopc3Zl.js";import"./get-slot-Bk_rJcZu.js";const V={class:"w-full flex justify-between gap-0"},$=["src"],W=k({name:"folder",__name:"index",setup(q){const u=d([]),m=y(),v=w();function g(e){const t=e.split(/[\\/]+/).filter(a=>a.trim().length>0);return t.length>0?t[t.length-1]:""}function b(e){e.startsWith("/app/public")&&(e=e.replace("/app/public","")),m.routerPushByKey("library",{query:{folder:e}})}const s=d([]);return F(()=>{C("media_folders").then(e=>{e.data&&e.data.id&&(u.value=e.data.value.split(`
`),u.value.forEach(o=>{j(o).then(t=>{const a=[];t!==null&&t.data!==null&&t.data&&t.data.data.forEach(l=>{a.push(`${o.replace("/app/public","")}/${l.replace("\\","/")}`)}),s.value.push({folder:o,cover:a}),console.log(s.value)})}))})}),(e,o)=>{const t=S,a=z,l=E;return r(),_(l,{vertical:""},{default:c(()=>[N(a,null,{default:c(()=>[(r(!0),i(h,null,f(s.value,n=>(r(),_(t,{key:n.folder,bordered:!1,size:"small",class:"relative z-4 w-96 cursor-pointer rd-12px text-center transition-all duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] hover:shadow-lg hover:-translate-y-2",hoverable:"",title:g(n.folder),onClick:p=>b(n.folder)},{cover:c(()=>[P("div",V,[(r(!0),i(h,null,f(n.cover,(p,x)=>(r(),i("img",{key:x,src:B(v).projectSettings.serviceUrl+p.replace("\\","/"),class:"h-48 w-32 flex-1 object-cover"},null,8,$))),128))])]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1})}}});export{W as default};
