import{d as k,r as _,u as y,i as w,k as F,as as C,o as r,c as f,w as c,f as N,b as i,l as h,F as m,e as P,h as S,m as B}from"./index-B2ucaEoh.js";import{h as j}from"./movie-DrU7T6z3.js";import{_ as z}from"./Space-BOmHNOIh.js";import{_ as E}from"./Flex-C2AWlKzc.js";const V={class:"w-full flex justify-between gap-0"},$=["src"],M=k({name:"folder",__name:"index",setup(L){const u=_([]),g=y(),d=w();function v(t){const e=t.split(/[\\/]+/).filter(a=>a.trim().length>0);return e.length>0?e[e.length-1]:""}function b(t){g.routerPushByKey("library",{query:{folder:t}})}const l=_([]);return F(()=>{C("media_folders").then(t=>{t.data&&t.data.id&&(u.value=t.data.value.split(`
`),u.value.forEach(n=>{j(n).then(e=>{var s;const a=[];e!==null&&e.data!==null&&((s=e.data)==null?void 0:s.length)>0&&e.data.forEach(o=>{a.push(`${d.projectSettings.serviceUrl}/public/media/${o.replace("\\","/")}`)}),l.value.push({folder:n,cover:a}),console.log(l.value)})}))})}),(t,n)=>{const e=B,a=z,s=E;return r(),f(s,{vertical:""},{default:c(()=>[N(a,null,{default:c(()=>[(r(!0),i(m,null,h(l.value,o=>(r(),f(e,{key:o.folder,bordered:!1,size:"small",class:"relative z-4 w-96 cursor-pointer rd-12px text-center transition-all duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] hover:shadow-lg hover:-translate-y-2",hoverable:"",title:v(o.folder),onClick:p=>b(o.folder)},{cover:c(()=>[P("div",V,[(r(!0),i(m,null,h(o.cover,(p,x)=>(r(),i("img",{key:x,src:S(d).projectSettings.serviceUrl+"/public/media/"+p.replace("\\","/"),class:"h-48 w-32 flex-1 object-cover"},null,8,$))),128))])]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1})}}});export{M as default};
