import{d as y,i as z,r as f,j as F,aq as _,o as N,c as S,w as n,f as t,h as l,$ as u,g as b,t as w,ar as g,as as v,l as L,B as G,s as I}from"./index-G0XXQiiJ.js";import{b as V}from"./movie-DpZnKH93.js";import{_ as q,a as A}from"./Grid-DVzNts1A.js";import{_ as D,a as P}from"./FormItem-CBeD6pwd.js";import{_ as T}from"./Space-DdY25akT.js";import{_ as h}from"./Flex-Dlopc3Zl.js";import"./get-slot-Bk_rJcZu.js";const E=y({name:"SettingMedia",__name:"media",setup(k){const d=z(),i=f(""),o=f(""),p=f("");function C(){var e;(e=window.$message)==null||e.info("后台添加中，请耐心等待"),V()}function R(){var e;d.cacheProjectSettings(),_("media_folders").then(a=>{a.data&&a.data.id?(a.data.value=i.value,g(a.data)):v({key:"media_folders",value:i.value})}),_("tag_index").then(a=>{a.data&&a.data.id?(a.data.value=o.value,g(a.data)):v({key:"tag_index",value:o.value})}),_("actress_mapping").then(a=>{a.data&&a.data.id?(a.data.value=p.value,g(a.data)):v({key:"actress_mapping",value:p.value})}),(e=window.$message)==null||e.info(u("common.saveSuccess"))}return F(()=>{_("media_folders").then(e=>{e.data&&e.data.id&&(i.value=e.data.value)}),_("tag_index").then(e=>{e.data&&e.data.id&&(o.value=e.data.value)}),_("actress_mapping").then(e=>{e.data&&e.data.id&&(p.value=e.data.value)})}),(e,a)=>{const c=q,r=L,m=D,U=P,x=G,$=T,B=A,M=I,j=h;return N(),S(j,null,{default:n(()=>[t(M,{bordered:!1,class:"w-full v-middle"},{default:n(()=>[t(B,{"x-gap":"12","y-gap":"24",cols:4},{default:n(()=>[t(c),t(c,{span:"2"},{default:n(()=>[t(U,{"label-placement":"left","label-width":"220","label-align":"left",size:"large"},{default:n(()=>[t(m,{label:l(u)("page.setting.server_url")},{default:n(()=>[t(r,{value:l(d).projectSettings.serviceUrl,"onUpdate:value":a[0]||(a[0]=s=>l(d).projectSettings.serviceUrl=s),type:"text"},null,8,["value"])]),_:1},8,["label"]),t(m,{label:l(u)("page.setting.media_folders")},{default:n(()=>[t(r,{value:i.value,"onUpdate:value":a[1]||(a[1]=s=>i.value=s),placeholder:"一行一个，如有多个请回车换行",type:"textarea",autosize:{minRows:3,maxRows:5}},null,8,["value"])]),_:1},8,["label"]),t(m,{label:l(u)("page.setting.tag_index")},{default:n(()=>[t(r,{value:o.value,"onUpdate:value":a[2]||(a[2]=s=>o.value=s),placeholder:"一行一个，如有多个请回车换行",type:"textarea",autosize:{minRows:5,maxRows:10}},null,8,["value"])]),_:1},8,["label"]),t(m,{label:l(u)("page.setting.actressMapping")},{default:n(()=>[t(r,{value:p.value,"onUpdate:value":a[3]||(a[3]=s=>p.value=s),placeholder:"一行一个，如有多个请回车换行",type:"textarea",autosize:{minRows:5,maxRows:10}},null,8,["value"])]),_:1},8,["label"])]),_:1}),t($,null,{default:n(()=>[t(x,{type:"primary",class:"w-xs",onClick:R},{default:n(()=>[b(w(l(u)("common.save")),1)]),_:1}),t(x,{type:"warning",class:"w-xs",onClick:C},{default:n(()=>[b(w(l(u)("page.library.updateLibrary")),1)]),_:1})]),_:1})]),_:1}),t(c)]),_:1})]),_:1})]),_:1})}}}),Y=y({name:"setting",__name:"index",setup(k){return(d,i)=>{const o=h;return N(),S(o,{vertical:""},{default:n(()=>[t(E)]),_:1})}}});export{Y as default};
