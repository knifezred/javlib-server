import{_ as O}from"./movie-card.vue_vue_type_script_setup_true_lang-BbBdxZNE.js";import{d as q,i as I,j as Y,u as J,r as p,k as K,o as i,c as b,w as a,f as e,h as r,$ as D,e as M,g as c,t as m,b as h,l as y,F as w,m as Q,n as W,p as X}from"./index-DItnb3D9.js";import{c as Z,p as T}from"./library-D4JW-QQB.js";import{f as ee,u as ae}from"./actress-CJFnrttt.js";import{f as te}from"./movie-BrVTha2p.js";import{_ as oe,a as le}from"./Grid-HtSArZJZ.js";import{_ as ne}from"./text-Caewz_j-.js";import{_ as se}from"./Statistic-4o2axG0d.js";import{_ as ue}from"./PageHeader-BZebUIuZ.js";import{N as pe}from"./headers-CowQBov4.js";import{_ as ie}from"./Space-D7PNJy4T.js";import{_ as re}from"./Pagination-DtpHMPZw.js";import{_ as ce}from"./p-B4gxHpB1.js";import"./Rate-B08BRAue.js";import"./get-slot-Bk_rJcZu.js";import"./prop-BjyUHhTu.js";const _e=["src"],de=["src"],Be=q({name:"detail-page_actress",__name:"index",setup(me){const N=I(),$=Y(),{routerBack:H}=J(),o=p({createdTime:0,favorite:!1,score:0,personalScore:0,category:"",name:"",alias:"",introduction:"",avatar:"",cover:"",tags:"",birthday:"",videoCount:0,bust:0,waist:0,hip:0,face:0,body:0,cup:0,bodySize:"",bodyHeight:0,debutDate:""}),g=p([]),k=p(0),s=p({sort:"year",sortRule:"DESC",page:1,pageSize:20}),v=p(1),z=p(0);function d(){s.value.actress=o.value.name,te(s.value).then(u=>{u.data?(g.value=u.data.records,v.value=Math.ceil(u.data.total/s.value.pageSize),z.value=u.data.total):(g.value=[],v.value=1,z.value=0)})}K(()=>{ee($.query.name).then(u=>{u.data!==null&&(o.value=u.data,k.value=new Date().getFullYear()-Number.parseInt(o.value.birthday.split("/")[0],10),d())})});const S=p(!1);function L(){S.value=!0}function R(u){o.value.avatar=u,ae(o.value).then(l=>{var n;l.data&&((n=window.$message)==null||n.success(D("common.modifySuccess")))})}return(u,l)=>{const n=oe,U=ne,f=ce,_=se,j=X,x=le,C=Q,F=ue,V=pe,E=O,P=ie,A=re,G=W;return i(),b(x,{"x-gap":"12","y-gap":"24",cols:2},{default:a(()=>[e(n,{span:2},{default:a(()=>[e(F,{title:r(D)("common.backToList"),onBack:r(H)},{default:a(()=>[e(C,null,{default:a(()=>[e(x,{"x-gap":"12","y-gap":"12",cols:3},{default:a(()=>[e(n,null,{default:a(()=>[M("img",{src:r(N).baseURL+o.value.avatar,class:"h-24 w-24 cursor-pointer rd-md object-cover object-top transition-transform duration-300",onClick:L},null,8,_e)]),_:1}),e(n,{span:2},{default:a(()=>[e(f,null,{default:a(()=>[c(m(o.value.name)+" ",1),e(U,{depth:3},{default:a(()=>[c("("+m(k.value)+"岁)",1)]),_:1})]),_:1}),e(f,{depth:"3",class:"my-1"},{default:a(()=>[c(m(o.value.alias),1)]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(_,{label:"参演作品",value:z.value},null,8,["value"])]),_:1}),e(n,null,{default:a(()=>[e(_,{label:"出生日期",value:o.value.birthday},null,8,["value"])]),_:1}),e(n,null,{default:a(()=>[e(_,{label:"出道时间",value:o.value.debutDate},null,8,["value"])]),_:1}),e(n,null,{default:a(()=>{var t;return[e(_,{label:"体型",value:o.value.bodySize+(o.value.cup>0?"/"+((t=r(Z).find(B=>B.value==o.value.cup))==null?void 0:t.label):"")},null,8,["value"])]}),_:1}),e(n,null,{default:a(()=>[e(_,{label:"身高",value:o.value.bodyHeight+"cm"},null,8,["value"])]),_:1}),e(n,null,{default:a(()=>[e(_,{label:"综合评分",value:o.value.score+" / "+o.value.personalScore},null,8,["value"])]),_:1}),e(n,{span:3},{default:a(()=>[e(f,null,{default:a(()=>[(i(!0),h(w,null,y(o.value.tags.split("|").filter(t=>t.length>0),t=>(i(),b(j,{key:t},{default:a(()=>[c(m(t),1)]),_:2},1024))),128))]),_:1}),e(f,{class:"line-clamp-6"},{default:a(()=>[c(m(o.value.introduction),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["title","onBack"])]),_:1}),e(n,{span:2},{default:a(()=>[e(V,{class:"ml-2"},{default:a(()=>l[5]||(l[5]=[c("TA的作品")])),_:1}),e(P,{justify:"center"},{default:a(()=>[(i(!0),h(w,null,y(g.value,t=>(i(),b(E,{key:t.id,movie:t,"show-second-title":!1,sort:s.value.sort},null,8,["movie","sort"]))),128))]),_:1}),e(A,{page:s.value.page,"onUpdate:page":l[0]||(l[0]=t=>s.value.page=t),"page-size":s.value.pageSize,"onUpdate:pageSize":l[1]||(l[1]=t=>s.value.pageSize=t),class:"ma-auto pt-4",simple:"","page-count":v.value,"show-size-picker":"","page-sizes":r(T),onUpdatePage:d,onUpdatePageSize:d},null,8,["page","page-size","page-count","page-sizes"])]),_:1}),e(n,{span:2},{default:a(()=>[e(G,{show:S.value,"onUpdate:show":l[4]||(l[4]=t=>S.value=t),class:"h-auto w-xl",preset:"dialog",title:"Dialog"},{header:a(()=>[e(U,null,{default:a(()=>l[6]||(l[6]=[c("修改头像")])),_:1})]),default:a(()=>[e(P,{class:"mt-lg w-auto"},{default:a(()=>[(i(!0),h(w,null,y(g.value,t=>(i(),b(C,{key:t.id,"content-style":"padding:0px !important",class:"w-28",hoverable:"",onClick:B=>R(t.poster)},{default:a(()=>[M("img",{src:r(N).baseURL+t.poster,class:"h-auto w-28 cursor-pointer rd-md"},null,8,de)]),_:2},1032,["onClick"]))),128))]),_:1}),e(A,{page:s.value.page,"onUpdate:page":l[2]||(l[2]=t=>s.value.page=t),"page-size":s.value.pageSize,"onUpdate:pageSize":l[3]||(l[3]=t=>s.value.pageSize=t),class:"ma-auto",simple:"","page-count":v.value,"show-size-picker":"","page-sizes":r(T),onUpdatePage:d,onUpdatePageSize:d},null,8,["page","page-size","page-count","page-sizes"])]),_:1},8,["show"])]),_:1})]),_:1})}}});export{Be as default};
